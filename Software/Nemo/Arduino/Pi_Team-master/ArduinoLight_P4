#define ELIGHT_LED 3
#define ELIGHT_LED_2 9
#define ELIGHT_LED_3 5
#define DEBUG (0)


void setup() {
  pinMode(ELIGHT_LED, OUTPUT);
  pinMode(ELIGHT_LED_2, OUTPUT);
  pinMode(ELIGHT_LED_3, OUTPUT);
  Serial.begin(115200);

}

String stringInput;
String elightToken1 = "elights_1";
String elightToken2 = "elights_2";
String elightToken3 = "elights_3";
int tokenLen = elightToken1.length();
int ledBrightness;
String placeholder;

void loop() {
 
  if (Serial.available() > 0) {
    stringInput = Serial.readString();
    if (stringInput.startsWith(elightToken1)) {
      placeholder = stringInput.substring((tokenLen + 1)); //Account for separator
      ledBrightness = placeholder.toInt();
      analogWrite(ELIGHT_LED, ledBrightness);
    }
    if (stringInput.startsWith(elightToken2)) {
      placeholder = stringInput.substring((tokenLen + 1)); //Account for separator
      ledBrightness = placeholder.toInt();
      analogWrite(ELIGHT_LED_2, ledBrightness);
    }
      if (stringInput.startsWith(elightToken3)) {
      placeholder = stringInput.substring((tokenLen + 1)); //Account for separator
      ledBrightness = placeholder.toInt();
      analogWrite(ELIGHT_LED_3, ledBrightness);
    }
    
  }
  

}
